/* 
 * Card Component
 * - .card container
 * - Image handling (.card__image)
 * - Content layout (.card__content)
 * - Hover + focus-within polish
 */

.card {
  overflow: hidden;
  border-radius: var(--radius-lg);

  background: var(--card-bg-clr);
  border: 1px solid var(--card-border-clr);

  box-shadow: 0 14px 34px color-mix(in oklab, var(--border-clr), transparent 35%);
  transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;

  min-width: 0;
}

.card:hover {
  transform: translateY(-2px);
  border-color: color-mix(in oklab, var(--accent-clr), var(--card-border-clr) 60%);
  box-shadow: 0 20px 46px color-mix(in oklab, var(--border-clr), transparent 25%);
}

.card__image {
  width: 100%;
  display: block;

  aspect-ratio: 4 / 3;
  object-fit: cover;
}

.card__content {
  padding: calc(var(--spacing-lg) * 0.85);
}

/* Larger typography than the global defaults */
.card__title {
  color: var(--heading-clr);
  font-family: var(--font-family-heading);

  font-size: clamp(var(--font-size-xl), 2.2vw, var(--font-size-2xl));
  line-height: 1.2;
}

.card__text {
  color: var(--text-clr);
  font-family: var(--font-family-body);

  font-size: clamp(calc(var(--font-size-md) * 1.08), 1.4vw, calc(var(--font-size-lg) * 1.08));
  line-height: calc(var(--rhythm-base) * 1.8);
}

/* If a card contains a focusable element, show a clear focus ring */
.card:focus-within {
  border-color: color-mix(in oklab, var(--accent-clr), var(--card-border-clr) 35%);
  box-shadow:
    0 0 0 4px color-mix(in oklab, var(--accent-clr), transparent 75%),
    0 20px 46px color-mix(in oklab, var(--border-clr), transparent 25%);
}

@media (prefers-reduced-motion: reduce) {
  .card {
    transition: none;
  }
  .card:hover {
    transform: none;
  }
